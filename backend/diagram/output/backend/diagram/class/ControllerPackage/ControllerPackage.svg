<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="526px" preserveAspectRatio="none" style="width:2474px;height:526px;" version="1.1" viewBox="0 0 2474 526" width="2474px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ai9uzrd2gava" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[10ea673caf457862023e152271927b45]
cluster controller--><polygon fill="#FFFFFF" filter="url(#f1ai9uzrd2gava)" points="16,6,91,6,98,29.6094,2457,29.6094,2457,519,16,519,16,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="98" y1="29.6094" y2="29.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="69" x="20" y="22.5332">controller</text><!--MD5=[c8f8358d41a1c595b99510f2374ca8ba]
class AbstractController--><rect codeLine="3" fill="#FEFECE" filter="url(#f1ai9uzrd2gava)" height="61.8359" id="AbstractController" style="stroke:#A80036;stroke-width:1.5;" width="131" x="1188.5" y="42"/><ellipse cx="1203.5" cy="58" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1205.6875,59.7656 L1201.5469,59.7656 L1201.125,60.7969 L1201.5469,60.7969 Q1202.1563,60.7969 1202.4219,61.0313 Q1202.6875,61.2656 1202.6875,61.6563 Q1202.6875,62.0313 1202.4219,62.2656 Q1202.1563,62.5 1201.5469,62.5 L1199.25,62.5 Q1198.6406,62.5 1198.3906,62.2656 Q1198.125,62.0313 1198.125,61.6406 Q1198.125,61.2656 1198.4063,61.0313 Q1198.6719,60.7813 1199.2969,60.7969 L1201.9688,54.1406 L1200.8594,54.1406 Q1200.25,54.1406 1199.9844,53.9063 Q1199.7188,53.6719 1199.7188,53.2813 Q1199.7188,52.9063 1199.9844,52.6719 Q1200.25,52.4375 1200.8594,52.4375 L1204.5313,52.4375 L1207.9219,60.7969 Q1208.5156,60.7969 1208.7031,60.9375 Q1209.0938,61.2031 1209.0938,61.6563 Q1209.0938,62.0313 1208.8281,62.2656 Q1208.5781,62.5 1207.9688,62.5 L1205.6719,62.5 Q1205.0625,62.5 1204.7969,62.2656 Q1204.5313,62.0313 1204.5313,61.6406 Q1204.5313,61.2656 1204.7969,61.0313 Q1205.0625,60.7969 1205.6719,60.7969 L1206.0938,60.7969 L1205.6875,59.7656 Z M1204.9688,58.0625 L1203.6094,54.6875 L1202.2344,58.0625 L1204.9688,58.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="99" x="1217.5" y="62.9102">AbstractController</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1189.5" x2="1318.5" y1="74" y2="74"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1196.5" y="82"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="1208.5" y="89.4189">final Logger LOG</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1189.5" x2="1318.5" y1="95.8359" y2="95.8359"/><!--MD5=[29f97d496cbdc4ec81664c6d94dc9bf6]
class UserController--><rect codeLine="7" fill="#FEFECE" filter="url(#f1ai9uzrd2gava)" height="338.5547" id="UserController" style="stroke:#A80036;stroke-width:1.5;" width="555" x="32.5" y="164"/><ellipse cx="265.25" cy="180" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M268.0156,175.875 Q268.1719,175.6563 268.3594,175.5469 Q268.5469,175.4375 268.7656,175.4375 Q269.1406,175.4375 269.375,175.7031 Q269.6094,175.9531 269.6094,176.5625 L269.6094,178.0156 Q269.6094,178.625 269.375,178.8906 Q269.1406,179.1563 268.7656,179.1563 Q268.4219,179.1563 268.2188,178.9531 Q268.0156,178.7656 267.9063,178.25 Q267.8594,177.8906 267.6719,177.7031 Q267.3438,177.3281 266.7344,177.1094 Q266.125,176.8906 265.5,176.8906 Q264.7344,176.8906 264.0938,177.2188 Q263.4688,177.5469 262.9688,178.2969 Q262.4844,179.0469 262.4844,180.0781 L262.4844,181.1719 Q262.4844,182.4063 263.375,183.2344 Q264.2656,184.0469 265.8594,184.0469 Q266.7969,184.0469 267.4531,183.7969 Q267.8438,183.6406 268.2656,183.2031 Q268.5313,182.9375 268.6719,182.8594 Q268.8281,182.7813 269.0313,182.7813 Q269.3594,182.7813 269.6094,183.0469 Q269.875,183.2969 269.875,183.6406 Q269.875,183.9844 269.5313,184.3906 Q269.0313,184.9688 268.2344,185.2969 Q267.1563,185.75 265.8594,185.75 Q264.3438,185.75 263.1406,185.125 Q262.1563,184.625 261.4688,183.5625 Q260.7813,182.4844 260.7813,181.2031 L260.7813,180.0469 Q260.7813,178.7188 261.3906,177.5781 Q262.0156,176.4219 263.1094,175.8125 Q264.2031,175.1875 265.4375,175.1875 Q266.1719,175.1875 266.8125,175.3594 Q267.4688,175.5156 268.0156,175.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81" x="285.75" y="184.9102">UserController</text><line style="stroke:#A80036;stroke-width:1.5;" x1="33.5" x2="586.5" y1="196" y2="196"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40.5" y="204"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="52.5" y="211.4189">final UserService userService</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40.5" y="217.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="211" x="52.5" y="225.2549">final TransactionService transactionService</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40.5" y="231.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="153" x="52.5" y="239.0908">final StockService stockService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="33.5" x2="586.5" y1="245.5078" y2="245.5078"/><ellipse cx="43.5" cy="256.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="529" x="52.5" y="260.9268">UserController(UserService userService, TransactionService transactionService, StockService stockService)</text><polygon fill="#4177AF" points="43.5,266.3438,39.5,272.3438,47.5,272.3438" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="52.5" y="274.7627">List&lt;User&gt; all()</text><polygon fill="#4177AF" points="43.5,280.1797,39.5,286.1797,47.5,286.1797" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="52.5" y="288.5986">User createUser( User user)</text><polygon fill="#4177AF" points="43.5,294.0156,39.5,300.0156,47.5,300.0156" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="110" x="52.5" y="302.4346">User getUser( Long id)</text><polygon fill="#4177AF" points="43.5,307.8516,39.5,313.8516,47.5,313.8516" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="236" x="52.5" y="316.2705">User registerAlpacaApiKey(Long id, String code)</text><polygon fill="#4177AF" points="43.5,321.6875,39.5,327.6875,47.5,327.6875" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="288" x="52.5" y="330.1064">UserCompleteProfile getUserByUserName(String username)</text><polygon fill="#4177AF" points="43.5,335.5234,39.5,341.5234,47.5,341.5234" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="196" x="52.5" y="343.9424">User editUserProfile (Long id, User user)</text><polygon fill="#4177AF" points="43.5,349.3594,39.5,355.3594,47.5,355.3594" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="364" x="52.5" y="357.7783">User editUserProfilePicture (Long id, MultipartFile imageFile, String selection)</text><polygon fill="#4177AF" points="43.5,363.1953,39.5,369.1953,47.5,369.1953" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="255" x="52.5" y="371.6143">Long followUser (Long userId, Long userToFollowId)</text><polygon fill="#4177AF" points="43.5,377.0313,39.5,383.0313,47.5,383.0313" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="278" x="52.5" y="385.4502">Long unfollowUser (Long userId, Long userToUnfollowId)</text><polygon fill="#4177AF" points="43.5,390.8672,39.5,396.8672,47.5,396.8672" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="212" x="52.5" y="399.2861">List&lt;SanitizedUser&gt; getFollowings (Long id)</text><polygon fill="#4177AF" points="43.5,404.7031,39.5,410.7031,47.5,410.7031" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="208" x="52.5" y="413.1221">List&lt;SanitizedUser&gt; getFollowers (Long id)</text><polygon fill="#4177AF" points="43.5,418.5391,39.5,424.5391,47.5,424.5391" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="178" x="52.5" y="426.958">void deleteUserByEmail (String email)</text><polygon fill="#4177AF" points="43.5,432.375,39.5,438.375,47.5,438.375" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="213" x="52.5" y="440.7939">List&lt;Map&lt;String,String&gt;&gt; getSearchUsers ()</text><polygon fill="#4177AF" points="43.5,446.2109,39.5,452.2109,47.5,452.2109" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="227" x="52.5" y="454.6299">List&lt;User&gt; getTopUserForStock(String symbol)</text><polygon fill="#4177AF" points="43.5,460.0469,39.5,466.0469,47.5,466.0469" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="311" x="52.5" y="468.4658">List&lt;User&gt; getStockOwnedByFollowers (Long id, String symbol)</text><polygon fill="#4177AF" points="43.5,473.8828,39.5,479.8828,47.5,479.8828" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="187" x="52.5" y="482.3018">List&lt;SanitizedUser&gt; getLeaderboard ()</text><polygon fill="#4177AF" points="43.5,487.7188,39.5,493.7188,47.5,493.7188" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="310" x="52.5" y="496.1377">List&lt;Pair&lt;SanitizedUser, Transaction&gt;&gt; getTimeline(Long userId)</text><!--MD5=[d6ba2c25978f484b609bddbefea022d3]
class StockController--><rect codeLine="31" fill="#FEFECE" filter="url(#f1ai9uzrd2gava)" height="255.5391" id="StockController" style="stroke:#A80036;stroke-width:1.5;" width="705" x="622.5" y="205.5"/><ellipse cx="928.75" cy="221.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M931.5156,217.375 Q931.6719,217.1563 931.8594,217.0469 Q932.0469,216.9375 932.2656,216.9375 Q932.6406,216.9375 932.875,217.2031 Q933.1094,217.4531 933.1094,218.0625 L933.1094,219.5156 Q933.1094,220.125 932.875,220.3906 Q932.6406,220.6563 932.2656,220.6563 Q931.9219,220.6563 931.7188,220.4531 Q931.5156,220.2656 931.4063,219.75 Q931.3594,219.3906 931.1719,219.2031 Q930.8438,218.8281 930.2344,218.6094 Q929.625,218.3906 929,218.3906 Q928.2344,218.3906 927.5938,218.7188 Q926.9688,219.0469 926.4688,219.7969 Q925.9844,220.5469 925.9844,221.5781 L925.9844,222.6719 Q925.9844,223.9063 926.875,224.7344 Q927.7656,225.5469 929.3594,225.5469 Q930.2969,225.5469 930.9531,225.2969 Q931.3438,225.1406 931.7656,224.7031 Q932.0313,224.4375 932.1719,224.3594 Q932.3281,224.2813 932.5313,224.2813 Q932.8594,224.2813 933.1094,224.5469 Q933.375,224.7969 933.375,225.1406 Q933.375,225.4844 933.0313,225.8906 Q932.5313,226.4688 931.7344,226.7969 Q930.6563,227.25 929.3594,227.25 Q927.8438,227.25 926.6406,226.625 Q925.6563,226.125 924.9688,225.0625 Q924.2813,223.9844 924.2813,222.7031 L924.2813,221.5469 Q924.2813,220.2188 924.8906,219.0781 Q925.5156,217.9219 926.6094,217.3125 Q927.7031,216.6875 928.9375,216.6875 Q929.6719,216.6875 930.3125,216.8594 Q930.9688,217.0156 931.5156,217.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="949.25" y="226.4102">StockController</text><line style="stroke:#A80036;stroke-width:1.5;" x1="623.5" x2="1326.5" y1="237.5" y2="237.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="630.5" y="245.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="261" x="642.5" y="252.9189">final StockMarketDataService stockMarketDataService</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="630.5" y="259.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="238" x="642.5" y="266.7549">final YahooFinanceService yahooFinanceService</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="630.5" y="273.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="153" x="642.5" y="280.5908">final StockService stockService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="623.5" x2="1326.5" y1="287.0078" y2="287.0078"/><ellipse cx="633.5" cy="298.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="679" x="642.5" y="302.4268">StockController (StockMarketDataService stockMarketDataService, YahooFinanceService yahooFinanceService, StockService stockService)</text><polygon fill="#4177AF" points="633.5,307.8438,629.5,313.8438,637.5,313.8438" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="261" x="642.5" y="316.2627">BatchStocks getBatchStocksBySymbol(String symbol)</text><polygon fill="#4177AF" points="633.5,321.6797,629.5,327.6797,637.5,327.6797" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="642.5" y="330.0986">Book getBook (String symbol)</text><polygon fill="#4177AF" points="633.5,335.5156,629.5,341.5156,637.5,341.5156" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="152" x="642.5" y="343.9346">Quote getQuote (String symbol)</text><polygon fill="#4177AF" points="633.5,349.3516,629.5,355.3516,637.5,355.3516" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="202" x="642.5" y="357.7705">Company getCompanyInfo (String symbol)</text><polygon fill="#4177AF" points="633.5,363.1875,629.5,369.1875,637.5,369.1875" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="235" x="642.5" y="371.6064">List&lt;News&gt; getLastNNews (String symbol, int n)</text><polygon fill="#4177AF" points="633.5,377.0234,629.5,383.0234,637.5,383.0234" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="182" x="642.5" y="385.4424">KeyStats getKeyStats (String symbol)</text><polygon fill="#4177AF" points="633.5,390.8594,629.5,396.8594,637.5,396.8594" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="209" x="642.5" y="399.2783">List&lt;Chart&gt; getChart (symbol, String range)</text><polygon fill="#4177AF" points="633.5,404.6953,629.5,410.6953,637.5,410.6953" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="642.5" y="413.1143">Logo getLogo (String symbol)</text><polygon fill="#4177AF" points="633.5,418.5313,629.5,424.5313,637.5,424.5313" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="355" x="642.5" y="426.9502">Mono&lt;String&gt; getYahooChart (String symbol, String range, String interval)</text><polygon fill="#4177AF" points="633.5,432.3672,629.5,438.3672,637.5,438.3672" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="246" x="642.5" y="440.7861">List&lt;SanitizedStock&gt; getUserStocks (String userId)</text><polygon fill="#4177AF" points="633.5,446.2031,629.5,452.2031,637.5,452.2031" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="333" x="642.5" y="454.6221">HashMap&lt;String, Long&gt; getPeopleWhoOwnAlsoOwn (String symbol)</text><!--MD5=[73ad5e1502ea164349990f756202b7f3]
class TransactionController--><rect codeLine="49" fill="#FEFECE" filter="url(#f1ai9uzrd2gava)" height="117.1797" id="TransactionController" style="stroke:#A80036;stroke-width:1.5;" width="343" x="1362.5" y="275"/><ellipse cx="1470.25" cy="291" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1473.0156,286.875 Q1473.1719,286.6563 1473.3594,286.5469 Q1473.5469,286.4375 1473.7656,286.4375 Q1474.1406,286.4375 1474.375,286.7031 Q1474.6094,286.9531 1474.6094,287.5625 L1474.6094,289.0156 Q1474.6094,289.625 1474.375,289.8906 Q1474.1406,290.1563 1473.7656,290.1563 Q1473.4219,290.1563 1473.2188,289.9531 Q1473.0156,289.7656 1472.9063,289.25 Q1472.8594,288.8906 1472.6719,288.7031 Q1472.3438,288.3281 1471.7344,288.1094 Q1471.125,287.8906 1470.5,287.8906 Q1469.7344,287.8906 1469.0938,288.2188 Q1468.4688,288.5469 1467.9688,289.2969 Q1467.4844,290.0469 1467.4844,291.0781 L1467.4844,292.1719 Q1467.4844,293.4063 1468.375,294.2344 Q1469.2656,295.0469 1470.8594,295.0469 Q1471.7969,295.0469 1472.4531,294.7969 Q1472.8438,294.6406 1473.2656,294.2031 Q1473.5313,293.9375 1473.6719,293.8594 Q1473.8281,293.7813 1474.0313,293.7813 Q1474.3594,293.7813 1474.6094,294.0469 Q1474.875,294.2969 1474.875,294.6406 Q1474.875,294.9844 1474.5313,295.3906 Q1474.0313,295.9688 1473.2344,296.2969 Q1472.1563,296.75 1470.8594,296.75 Q1469.3438,296.75 1468.1406,296.125 Q1467.1563,295.625 1466.4688,294.5625 Q1465.7813,293.4844 1465.7813,292.2031 L1465.7813,291.0469 Q1465.7813,289.7188 1466.3906,288.5781 Q1467.0156,287.4219 1468.1094,286.8125 Q1469.2031,286.1875 1470.4375,286.1875 Q1471.1719,286.1875 1471.8125,286.3594 Q1472.4688,286.5156 1473.0156,286.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="119" x="1490.75" y="295.9102">TransactionController</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1363.5" x2="1704.5" y1="307" y2="307"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1370.5" y="315"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="211" x="1382.5" y="322.4189">final TransactionService transactionService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1363.5" x2="1704.5" y1="328.8359" y2="328.8359"/><ellipse cx="1373.5" cy="339.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="299" x="1382.5" y="344.2549">TransactionController(TransactionService transactionService)</text><polygon fill="#4177AF" points="1373.5,349.6719,1369.5,355.6719,1377.5,355.6719" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="107" x="1382.5" y="358.0908">List&lt;Transaction&gt; all()</text><polygon fill="#4177AF" points="1373.5,363.5078,1369.5,369.5078,1377.5,369.5078" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="317" x="1382.5" y="371.9268">List&lt;Transaction&gt; executeTransaction(String userId, Order order)</text><polygon fill="#4177AF" points="1373.5,377.3438,1369.5,383.3438,1377.5,383.3438" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="259" x="1382.5" y="385.7627">List&lt;Transaction&gt; getUserTransactions(String userId)</text><!--MD5=[649e1978376fa21c4d85718cd5f61cda]
class AlpacaController--><rect codeLine="57" fill="#FEFECE" filter="url(#f1ai9uzrd2gava)" height="172.5234" id="AlpacaController" style="stroke:#A80036;stroke-width:1.5;" width="700" x="1741" y="247"/><ellipse cx="2041.25" cy="263" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2044.0156,258.875 Q2044.1719,258.6563 2044.3594,258.5469 Q2044.5469,258.4375 2044.7656,258.4375 Q2045.1406,258.4375 2045.375,258.7031 Q2045.6094,258.9531 2045.6094,259.5625 L2045.6094,261.0156 Q2045.6094,261.625 2045.375,261.8906 Q2045.1406,262.1563 2044.7656,262.1563 Q2044.4219,262.1563 2044.2188,261.9531 Q2044.0156,261.7656 2043.9063,261.25 Q2043.8594,260.8906 2043.6719,260.7031 Q2043.3438,260.3281 2042.7344,260.1094 Q2042.125,259.8906 2041.5,259.8906 Q2040.7344,259.8906 2040.0938,260.2188 Q2039.4688,260.5469 2038.9688,261.2969 Q2038.4844,262.0469 2038.4844,263.0781 L2038.4844,264.1719 Q2038.4844,265.4063 2039.375,266.2344 Q2040.2656,267.0469 2041.8594,267.0469 Q2042.7969,267.0469 2043.4531,266.7969 Q2043.8438,266.6406 2044.2656,266.2031 Q2044.5313,265.9375 2044.6719,265.8594 Q2044.8281,265.7813 2045.0313,265.7813 Q2045.3594,265.7813 2045.6094,266.0469 Q2045.875,266.2969 2045.875,266.6406 Q2045.875,266.9844 2045.5313,267.3906 Q2045.0313,267.9688 2044.2344,268.2969 Q2043.1563,268.75 2041.8594,268.75 Q2040.3438,268.75 2039.1406,268.125 Q2038.1563,267.625 2037.4688,266.5625 Q2036.7813,265.4844 2036.7813,264.2031 L2036.7813,263.0469 Q2036.7813,261.7188 2037.3906,260.5781 Q2038.0156,259.4219 2039.1094,258.8125 Q2040.2031,258.1875 2041.4375,258.1875 Q2042.1719,258.1875 2042.8125,258.3594 Q2043.4688,258.5156 2044.0156,258.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="91" x="2061.75" y="267.9102">AlpacaController</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1742" x2="2440" y1="279" y2="279"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1749" y="287"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="274" x="1761" y="294.4189">final MarketInteractionsFacade marketInteractionsFacade</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1749" y="300.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="223" x="1761" y="308.2549">final SimpMessagingTemplate messageSender</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1742" x2="2440" y1="314.6719" y2="314.6719"/><ellipse cx="1752" cy="325.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="545" x="1761" y="330.0908">AlpacaController(MarketInteractionsFacade marketInteractionsFacade, SimpMessagingTemplate messageSender)</text><polygon fill="#4177AF" points="1752,335.5078,1748,341.5078,1756,341.5078" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="175" x="1761" y="343.9268">Account&gt; getAccount(String userId)</text><polygon fill="#4177AF" points="1752,349.3438,1748,355.3438,1756,355.3438" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="196" x="1761" y="357.7627">List&lt;Position&gt; getPositions(String userId)</text><polygon fill="#4177AF" points="1752,363.1797,1748,369.1797,1756,369.1797" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="674" x="1761" y="371.5986">PortfolioHistory getPortfolioHistory(String userId, int periodLength, String periodUnit, String timeFrame, String dateEnd, String extendedHours)</text><polygon fill="#4177AF" points="1752,377.0156,1748,383.0156,1756,383.0156" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="171" x="1761" y="385.4346">Clock getMarketClock(String userId)</text><polygon fill="#4177AF" points="1752,390.8516,1748,396.8516,1756,396.8516" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="209" x="1761" y="399.2705">void registerToTradeUpdates(String userId)</text><polygon fill="#4177AF" points="1752,404.6875,1748,410.6875,1756,410.6875" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="237" x="1761" y="413.1064">void disconnectFromTradeUpdates(String userId)</text><!--MD5=[168d9dbf0aacd38a06b8467f62fcc1d6]
reverse link AbstractController to UserController--><path d="M1168.07,75.61 C1041.52,80.25 799.05,97.89 605,164 C599.28,165.95 593.54,168.01 587.8,170.18 " fill="none" id="AbstractController-backto-UserController" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1167.88,68.61,1188.1,74.95,1168.34,82.6,1167.88,68.61" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[15f023d261e6b597bdc49a3f0d7ac71d]
reverse link AbstractController to StockController--><path d="M1206.55,117.96 C1180.26,142.32 1146.08,173.99 1112.09,205.48 " fill="none" id="AbstractController-backto-StockController" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1202.02,112.62,1221.45,104.16,1211.54,122.89,1202.02,112.62" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ff53b9d67332a097e08834713155c460]
reverse link AbstractController to TransactionController--><path d="M1301.54,117.89 C1348.4,161.15 1420.28,227.51 1471.69,274.98 " fill="none" id="AbstractController-backto-TransactionController" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1296.61,122.87,1286.67,104.16,1306.11,112.58,1296.61,122.87" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e425fa4464ad842f6a5410e1fb47d0d1]
reverse link AbstractController to AlpacaController--><path d="M1339.63,84.15 C1434.83,96.88 1592.41,122.24 1723,164 C1791.44,185.88 1863.91,217.17 1926.28,246.85 " fill="none" id="AbstractController-backto-AlpacaController" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1338.64,91.08,1319.71,81.55,1340.45,77.2,1338.64,91.08" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e497a40af31490555fc107210008c80d]
@startuml

package controller {
    abstract class AbstractController {
        -final Logger LOG
    }

    class UserController extends AbstractController {
        -final UserService userService
        -final TransactionService transactionService
        -final StockService stockService
        +UserController(UserService userService, TransactionService transactionService, StockService stockService)
        ~List<User> all()
        ~User createUser( User user)
        ~User getUser( Long id)
        ~User registerAlpacaApiKey(Long id, String code)
        ~UserCompleteProfile getUserByUserName(String username)
        ~User editUserProfile (Long id, User user)
        ~User editUserProfilePicture (Long id, MultipartFile imageFile, String selection)
        ~Long followUser (Long userId, Long userToFollowId)
        ~Long unfollowUser (Long userId, Long userToUnfollowId)
        ~List<SanitizedUser> getFollowings (Long id)
        ~List<SanitizedUser> getFollowers (Long id)
        ~void deleteUserByEmail (String email)
        ~List<Map<String,String>> getSearchUsers ()
        ~List<User> getTopUserForStock(String symbol)
        ~List<User> getStockOwnedByFollowers (Long id, String symbol)
        ~List<SanitizedUser> getLeaderboard ()
        ~List<Pair<SanitizedUser, Transaction>> getTimeline(Long userId)
    }

    class StockController extends AbstractController {
        -final StockMarketDataService stockMarketDataService
        -final YahooFinanceService yahooFinanceService
        -final StockService stockService
        +StockController (StockMarketDataService stockMarketDataService, YahooFinanceService yahooFinanceService, StockService stockService)
        ~BatchStocks getBatchStocksBySymbol(String symbol)
        ~Book getBook (String symbol)
        ~Quote getQuote (String symbol)
        ~Company getCompanyInfo (String symbol)
        ~List<News> getLastNNews (String symbol, int n)
        ~KeyStats getKeyStats (String symbol)
        ~List<Chart> getChart (symbol, String range)
        ~Logo getLogo (String symbol)
        ~Mono<String> getYahooChart (String symbol, String range, String interval)
        ~List<SanitizedStock> getUserStocks (String userId)
        ~HashMap<String, Long> getPeopleWhoOwnAlsoOwn (String symbol)
    }

    class TransactionController extends AbstractController {
        -final TransactionService transactionService
        +TransactionController(TransactionService transactionService)
        ~List<Transaction> all()
        ~List<Transaction> executeTransaction(String userId, Order order)
        ~List<Transaction> getUserTransactions(String userId)
    }

    class AlpacaController extends AbstractController {
        -final MarketInteractionsFacade marketInteractionsFacade
        -final SimpMessagingTemplate messageSender
        +AlpacaController(MarketInteractionsFacade marketInteractionsFacade, SimpMessagingTemplate messageSender)
        ~Account> getAccount(String userId)
        ~List<Position> getPositions(String userId)
        ~PortfolioHistory getPortfolioHistory(String userId, int periodLength, String periodUnit, String timeFrame, String dateEnd, String extendedHours)
        ~Clock getMarketClock(String userId)
        ~void registerToTradeUpdates(String userId)
        ~void disconnectFromTradeUpdates(String userId)


    }
}

@enduml

PlantUML version 1.2021.00(Sun Jan 10 02:25:05 PST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>