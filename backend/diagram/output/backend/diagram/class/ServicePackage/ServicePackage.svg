<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="963px" preserveAspectRatio="none" style="width:6272px;height:963px;" version="1.1" viewBox="0 0 6272 963" width="6272px" zoomAndPan="magnify"><defs><filter height="300%" id="f1nubjlc36kpuo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[7579d5565d2521d5936cec86ed3dadee]
cluster service--><polygon fill="#FFFFFF" filter="url(#f1nubjlc36kpuo)" points="16,6,75,6,82,29.6094,6255,29.6094,6255,956,16,956,16,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="82" y1="29.6094" y2="29.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="53" x="20" y="22.5332">service</text><!--MD5=[7442f3b126ee602ae02566c1a49e158a]
cluster api--><polygon fill="#FFFFFF" filter="url(#f1nubjlc36kpuo)" points="3715,50,3742,50,3749,73.6094,6231,73.6094,6231,399,3715,399,3715,50" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="3715" x2="3749" y1="73.6094" y2="73.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="21" x="3719" y="66.5332">api</text><!--MD5=[e4d0b1db453d543dc71c69fb0a6f12af]
cluster imp--><polygon fill="#FFFFFF" filter="url(#f1nubjlc36kpuo)" points="40,167.5,71,167.5,78,191.1094,3691,191.1094,3691,932,40,932,40,167.5" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="40" x2="78" y1="191.1094" y2="191.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="25" x="44" y="184.0332">imp</text><!--MD5=[d941cf42d2b01618314a00eae202fd82]
class AmazonS3Service--><rect codeLine="5" fill="#FEFECE" filter="url(#f1nubjlc36kpuo)" height="75.6719" id="AmazonS3Service" style="stroke:#A80036;stroke-width:1.5;" width="369" x="5845.5" y="196.5"/><ellipse cx="5974.25" cy="212.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M5975.2031,209.1406 L5975.2031,215.7969 L5976.9219,215.7969 Q5977.5313,215.7969 5977.7969,216.0313 Q5978.0625,216.2656 5978.0625,216.6563 Q5978.0625,217.0313 5977.7969,217.2656 Q5977.5313,217.5 5976.9219,217.5 L5971.7813,217.5 Q5971.1719,217.5 5970.9063,217.2656 Q5970.6406,217.0313 5970.6406,216.6406 Q5970.6406,216.2656 5970.9063,216.0313 Q5971.1719,215.7969 5971.7813,215.7969 L5973.5,215.7969 L5973.5,209.1406 L5971.7813,209.1406 Q5971.1719,209.1406 5970.9063,208.9063 Q5970.6406,208.6719 5970.6406,208.2813 Q5970.6406,207.9063 5970.9063,207.6719 Q5971.1719,207.4375 5971.7813,207.4375 L5976.9219,207.4375 Q5977.5313,207.4375 5977.7969,207.6719 Q5978.0625,207.9063 5978.0625,208.2813 Q5978.0625,208.6719 5977.7969,208.9063 Q5977.5313,209.1406 5976.9219,209.1406 L5975.2031,209.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="103" x="5994.75" y="217.4102">AmazonS3Service</text><line style="stroke:#A80036;stroke-width:1.5;" x1="5846.5" x2="6213.5" y1="228.5" y2="228.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="5846.5" x2="6213.5" y1="236.5" y2="236.5"/><polygon fill="#4177AF" points="5856.5,243.5,5852.5,249.5,5860.5,249.5" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="343" x="5865.5" y="251.9189">String uploadImageToS3Bucket (MultipartFile image, String bucketName)</text><polygon fill="#4177AF" points="5856.5,257.3359,5852.5,263.3359,5860.5,263.3359" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="300" x="5865.5" y="265.7549">void deleteImageFromS3Bucket (String bucketName, String url)</text><!--MD5=[e4ac4745f81aec2db60ad4ddae80b659]
class UserService--><rect codeLine="11" fill="#FEFECE" filter="url(#f1nubjlc36kpuo)" height="297.0469" id="UserService" style="stroke:#A80036;stroke-width:1.5;" width="400" x="5410" y="86"/><ellipse cx="5572.25" cy="102" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M5573.2031,98.6406 L5573.2031,105.2969 L5574.9219,105.2969 Q5575.5313,105.2969 5575.7969,105.5313 Q5576.0625,105.7656 5576.0625,106.1563 Q5576.0625,106.5313 5575.7969,106.7656 Q5575.5313,107 5574.9219,107 L5569.7813,107 Q5569.1719,107 5568.9063,106.7656 Q5568.6406,106.5313 5568.6406,106.1406 Q5568.6406,105.7656 5568.9063,105.5313 Q5569.1719,105.2969 5569.7813,105.2969 L5571.5,105.2969 L5571.5,98.6406 L5569.7813,98.6406 Q5569.1719,98.6406 5568.9063,98.4063 Q5568.6406,98.1719 5568.6406,97.7813 Q5568.6406,97.4063 5568.9063,97.1719 Q5569.1719,96.9375 5569.7813,96.9375 L5574.9219,96.9375 Q5575.5313,96.9375 5575.7969,97.1719 Q5576.0625,97.4063 5576.0625,97.7813 Q5576.0625,98.1719 5575.7969,98.4063 Q5575.5313,98.6406 5574.9219,98.6406 L5573.2031,98.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="67" x="5592.75" y="106.9102">UserService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="5411" x2="5809" y1="118" y2="118"/><line style="stroke:#A80036;stroke-width:1.5;" x1="5411" x2="5809" y1="126" y2="126"/><polygon fill="#4177AF" points="5421,133,5417,139,5425,139" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="119" x="5430" y="141.4189">List&lt;User&gt; getAllUsers()</text><polygon fill="#4177AF" points="5421,146.8359,5417,152.8359,5425,152.8359" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="318" x="5430" y="155.2549">User getUserByEmailAndUsername(String email, String username)</text><polygon fill="#4177AF" points="5421,160.6719,5417,166.6719,5425,166.6719" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="136" x="5430" y="169.0908">User createUser(User user)</text><polygon fill="#4177AF" points="5421,174.5078,5417,180.5078,5425,180.5078" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="238" x="5430" y="182.9268">User updateUser(User userToUpdate, User user)</text><polygon fill="#4177AF" points="5421,188.3438,5417,194.3438,5425,194.3438" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="229" x="5430" y="196.7627">User registerAlpacaApiKey(Long id, String key)</text><polygon fill="#4177AF" points="5421,202.1797,5417,208.1797,5425,208.1797" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="158" x="5430" y="210.5986">UserValidator getUserValidator()</text><polygon fill="#4177AF" points="5421,216.0156,5417,222.0156,5425,222.0156" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="317" x="5430" y="224.4346">User login(User credentials) throws CredentialNotFoundException</text><polygon fill="#4177AF" points="5421,229.8516,5417,235.8516,5425,235.8516" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="374" x="5430" y="238.2705">User editUserProfilePicture(User user, MultipartFile imageFile, String selection)</text><polygon fill="#4177AF" points="5421,243.6875,5417,249.6875,5425,249.6875" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="252" x="5430" y="252.1064">Long followUser(Long userId, Long userToFollowId)</text><polygon fill="#4177AF" points="5421,257.5234,5417,263.5234,5425,263.5234" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="275" x="5430" y="265.9424">Long unfollowUser(Long userId, Long userToUnfollowId)</text><polygon fill="#4177AF" points="5421,271.3594,5417,277.3594,5425,277.3594" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="231" x="5430" y="279.7783">List&lt;SanitizedUser&gt; getFollowings(Long userId)</text><polygon fill="#4177AF" points="5421,285.1953,5417,291.1953,5425,291.1953" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="227" x="5430" y="293.6143">List&lt;SanitizedUser&gt; getFollowers(Long userId)</text><polygon fill="#4177AF" points="5421,299.0313,5417,305.0313,5425,305.0313" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="213" x="5430" y="307.4502">List&lt;Map&lt;String, String&gt;&gt; getSearchUsers()</text><polygon fill="#4177AF" points="5421,312.8672,5417,318.8672,5425,318.8672" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="190" x="5430" y="321.2861">List&lt;User&gt; getTopUsers(String symbol)</text><polygon fill="#4177AF" points="5421,326.7031,5417,332.7031,5425,332.7031" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="329" x="5430" y="335.1221">List&lt;User&gt; getFollowersWhoOwnsTheStock(Long id, String symbol)</text><polygon fill="#4177AF" points="5421,340.5391,5417,346.5391,5425,346.5391" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="184" x="5430" y="348.958">List&lt;SanitizedUser&gt; getLeaderboard()</text><polygon fill="#4177AF" points="5421,354.375,5417,360.375,5425,360.375" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="175" x="5430" y="362.7939">void deleteUserByEmail(String email)</text><polygon fill="#4177AF" points="5421,368.2109,5417,374.2109,5425,374.2109" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="198" x="5430" y="376.6299">Float getUserPercentile(String username)</text><!--MD5=[6b3fd4f18eeb8bcfd1303acf3eebffb7]
class StockService--><rect codeLine="32" fill="#FEFECE" filter="url(#f1nubjlc36kpuo)" height="103.3438" id="StockService" style="stroke:#A80036;stroke-width:1.5;" width="356" x="5019" y="183"/><ellipse cx="5156.75" cy="199" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M5157.7031,195.6406 L5157.7031,202.2969 L5159.4219,202.2969 Q5160.0313,202.2969 5160.2969,202.5313 Q5160.5625,202.7656 5160.5625,203.1563 Q5160.5625,203.5313 5160.2969,203.7656 Q5160.0313,204 5159.4219,204 L5154.2813,204 Q5153.6719,204 5153.4063,203.7656 Q5153.1406,203.5313 5153.1406,203.1406 Q5153.1406,202.7656 5153.4063,202.5313 Q5153.6719,202.2969 5154.2813,202.2969 L5156,202.2969 L5156,195.6406 L5154.2813,195.6406 Q5153.6719,195.6406 5153.4063,195.4063 Q5153.1406,195.1719 5153.1406,194.7813 Q5153.1406,194.4063 5153.4063,194.1719 Q5153.6719,193.9375 5154.2813,193.9375 L5159.4219,193.9375 Q5160.0313,193.9375 5160.2969,194.1719 Q5160.5625,194.4063 5160.5625,194.7813 Q5160.5625,195.1719 5160.2969,195.4063 Q5160.0313,195.6406 5159.4219,195.6406 L5157.7031,195.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="72" x="5177.25" y="203.9102">StockService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="5020" x2="5374" y1="215" y2="215"/><line style="stroke:#A80036;stroke-width:1.5;" x1="5020" x2="5374" y1="223" y2="223"/><polygon fill="#4177AF" points="5030,230,5026,236,5034,236" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="5039" y="238.4189">List&lt;Stock&gt; getAllStocks()</text><polygon fill="#4177AF" points="5030,243.8359,5026,249.8359,5034,249.8359" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="239" x="5039" y="252.2549">List&lt;SanitizedStock&gt; getUserStocks(Long userId)</text><polygon fill="#4177AF" points="5030,257.6719,5026,263.6719,5034,263.6719" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="330" x="5039" y="266.0908">HashMap&lt;String, Long&gt; getPeopleWhoOwnAlsoOwn(String symbol)</text><polygon fill="#4177AF" points="5030,271.5078,5026,277.5078,5034,277.5078" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="193" x="5039" y="279.9268">Stock getStockBySymbol(String symbol)</text><!--MD5=[4b1df0fc819a77b35db968c43eee41d9]
class TransactionService--><rect codeLine="39" fill="#FEFECE" filter="url(#f1nubjlc36kpuo)" height="103.3438" id="TransactionService" style="stroke:#A80036;stroke-width:1.5;" width="481" x="4502.5" y="183"/><ellipse cx="4686.25" cy="199" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M4687.2031,195.6406 L4687.2031,202.2969 L4688.9219,202.2969 Q4689.5313,202.2969 4689.7969,202.5313 Q4690.0625,202.7656 4690.0625,203.1563 Q4690.0625,203.5313 4689.7969,203.7656 Q4689.5313,204 4688.9219,204 L4683.7813,204 Q4683.1719,204 4682.9063,203.7656 Q4682.6406,203.5313 4682.6406,203.1406 Q4682.6406,202.7656 4682.9063,202.5313 Q4683.1719,202.2969 4683.7813,202.2969 L4685.5,202.2969 L4685.5,195.6406 L4683.7813,195.6406 Q4683.1719,195.6406 4682.9063,195.4063 Q4682.6406,195.1719 4682.6406,194.7813 Q4682.6406,194.4063 4682.9063,194.1719 Q4683.1719,193.9375 4683.7813,193.9375 L4688.9219,193.9375 Q4689.5313,193.9375 4689.7969,194.1719 Q4690.0625,194.4063 4690.0625,194.7813 Q4690.0625,195.1719 4689.7969,195.4063 Q4689.5313,195.6406 4688.9219,195.6406 L4687.2031,195.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="105" x="4706.75" y="203.9102">TransactionService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4503.5" x2="4982.5" y1="215" y2="215"/><line style="stroke:#A80036;stroke-width:1.5;" x1="4503.5" x2="4982.5" y1="223" y2="223"/><polygon fill="#4177AF" points="4513.5,230,4509.5,236,4517.5,236" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="187" x="4522.5" y="238.4189">List&lt;Transaction&gt; getAllTransactions()</text><polygon fill="#4177AF" points="4513.5,243.8359,4509.5,249.8359,4517.5,249.8359" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="455" x="4522.5" y="252.2549">List&lt;Transaction&gt; getTransactionsByOrderType(MoneyTreeOrderType moneyTreeOrderType)</text><polygon fill="#4177AF" points="4513.5,257.6719,4509.5,263.6719,4517.5,263.6719" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="260" x="4522.5" y="266.0908">List&lt;Transaction&gt; execute(String userId, Order order)</text><polygon fill="#4177AF" points="4513.5,271.5078,4509.5,277.5078,4517.5,277.5078" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="255" x="4522.5" y="279.9268">List&lt;Transaction&gt; getUserTransactions(Long userId)</text><!--MD5=[e740837a39e1392443e54765373c0659]
class StockMarketDataService--><rect codeLine="45" fill="#FEFECE" filter="url(#f1nubjlc36kpuo)" height="158.6875" id="StockMarketDataService" style="stroke:#A80036;stroke-width:1.5;" width="293" x="4174.5" y="155"/><ellipse cx="4249.25" cy="171" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M4250.2031,167.6406 L4250.2031,174.2969 L4251.9219,174.2969 Q4252.5313,174.2969 4252.7969,174.5313 Q4253.0625,174.7656 4253.0625,175.1563 Q4253.0625,175.5313 4252.7969,175.7656 Q4252.5313,176 4251.9219,176 L4246.7813,176 Q4246.1719,176 4245.9063,175.7656 Q4245.6406,175.5313 4245.6406,175.1406 Q4245.6406,174.7656 4245.9063,174.5313 Q4246.1719,174.2969 4246.7813,174.2969 L4248.5,174.2969 L4248.5,167.6406 L4246.7813,167.6406 Q4246.1719,167.6406 4245.9063,167.4063 Q4245.6406,167.1719 4245.6406,166.7813 Q4245.6406,166.4063 4245.9063,166.1719 Q4246.1719,165.9375 4246.7813,165.9375 L4251.9219,165.9375 Q4252.5313,165.9375 4252.7969,166.1719 Q4253.0625,166.4063 4253.0625,166.7813 Q4253.0625,167.1719 4252.7969,167.4063 Q4252.5313,167.6406 4251.9219,167.6406 L4250.2031,167.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="135" x="4269.75" y="175.9102">StockMarketDataService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="4175.5" x2="4466.5" y1="187" y2="187"/><line style="stroke:#A80036;stroke-width:1.5;" x1="4175.5" x2="4466.5" y1="195" y2="195"/><polygon fill="#4177AF" points="4185.5,202,4181.5,208,4189.5,208" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="267" x="4194.5" y="210.4189">BatchStocks getBatchStocksBySymbol(String symbols)</text><polygon fill="#4177AF" points="4185.5,215.8359,4181.5,221.8359,4189.5,221.8359" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="4194.5" y="224.2549">Book getBook(String symbol)</text><polygon fill="#4177AF" points="4185.5,229.6719,4181.5,235.6719,4189.5,235.6719" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="149" x="4194.5" y="238.0908">Quote getQuote(String symbol)</text><polygon fill="#4177AF" points="4185.5,243.5078,4181.5,249.5078,4189.5,249.5078" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="199" x="4194.5" y="251.9268">Company getCompanyInfo(String symbol)</text><polygon fill="#4177AF" points="4185.5,257.3438,4181.5,263.3438,4189.5,263.3438" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="250" x="4194.5" y="265.7627">List&lt;News&gt; getLastNNews(String symbol, int lastN)</text><polygon fill="#4177AF" points="4185.5,271.1797,4181.5,277.1797,4189.5,277.1797" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="179" x="4194.5" y="279.5986">KeyStats getKeyStats(String symbol)</text><polygon fill="#4177AF" points="4185.5,285.0156,4181.5,291.0156,4189.5,291.0156" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="237" x="4194.5" y="293.4346">List&lt;Chart&gt; getChart(String symbol, String range)</text><polygon fill="#4177AF" points="4185.5,298.8516,4181.5,304.8516,4189.5,304.8516" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="4194.5" y="307.2705">Logo getLogo(String symbol)</text><!--MD5=[9aef4140be482798edb6834a607f9683]
class YahooFinanceService--><rect codeLine="55" fill="#FEFECE" filter="url(#f1nubjlc36kpuo)" height="61.8359" id="YahooFinanceService" style="stroke:#A80036;stroke-width:1.5;" width="408" x="3731" y="203.5"/><ellipse cx="3870.25" cy="219.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M3871.2031,216.1406 L3871.2031,222.7969 L3872.9219,222.7969 Q3873.5313,222.7969 3873.7969,223.0313 Q3874.0625,223.2656 3874.0625,223.6563 Q3874.0625,224.0313 3873.7969,224.2656 Q3873.5313,224.5 3872.9219,224.5 L3867.7813,224.5 Q3867.1719,224.5 3866.9063,224.2656 Q3866.6406,224.0313 3866.6406,223.6406 Q3866.6406,223.2656 3866.9063,223.0313 Q3867.1719,222.7969 3867.7813,222.7969 L3869.5,222.7969 L3869.5,216.1406 L3867.7813,216.1406 Q3867.1719,216.1406 3866.9063,215.9063 Q3866.6406,215.6719 3866.6406,215.2813 Q3866.6406,214.9063 3866.9063,214.6719 Q3867.1719,214.4375 3867.7813,214.4375 L3872.9219,214.4375 Q3873.5313,214.4375 3873.7969,214.6719 Q3874.0625,214.9063 3874.0625,215.2813 Q3874.0625,215.6719 3873.7969,215.9063 Q3873.5313,216.1406 3872.9219,216.1406 L3871.2031,216.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="121" x="3890.75" y="224.4102">YahooFinanceService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3732" x2="4138" y1="235.5" y2="235.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="3732" x2="4138" y1="243.5" y2="243.5"/><polygon fill="#4177AF" points="3742,250.5,3738,256.5,3746,256.5" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="382" x="3751" y="258.9189">Mono&lt;String&gt; getHistoricalGraphData(String ticker, String range, String interval)</text><!--MD5=[7cb7f5b698ce295f657ad7877ce7904e]
class AbstractService--><rect codeLine="61" fill="#FEFECE" filter="url(#f1nubjlc36kpuo)" height="61.8359" id="AbstractService" style="stroke:#A80036;stroke-width:1.5;" width="137" x="1705.5" y="203.5"/><ellipse cx="1729.05" cy="219.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1731.2375,221.2656 L1727.0969,221.2656 L1726.675,222.2969 L1727.0969,222.2969 Q1727.7063,222.2969 1727.9719,222.5313 Q1728.2375,222.7656 1728.2375,223.1563 Q1728.2375,223.5313 1727.9719,223.7656 Q1727.7063,224 1727.0969,224 L1724.8,224 Q1724.1906,224 1723.9406,223.7656 Q1723.675,223.5313 1723.675,223.1406 Q1723.675,222.7656 1723.9563,222.5313 Q1724.2219,222.2813 1724.8469,222.2969 L1727.5188,215.6406 L1726.4094,215.6406 Q1725.8,215.6406 1725.5344,215.4063 Q1725.2688,215.1719 1725.2688,214.7813 Q1725.2688,214.4063 1725.5344,214.1719 Q1725.8,213.9375 1726.4094,213.9375 L1730.0813,213.9375 L1733.4719,222.2969 Q1734.0656,222.2969 1734.2531,222.4375 Q1734.6438,222.7031 1734.6438,223.1563 Q1734.6438,223.5313 1734.3781,223.7656 Q1734.1281,224 1733.5188,224 L1731.2219,224 Q1730.6125,224 1730.3469,223.7656 Q1730.0813,223.5313 1730.0813,223.1406 Q1730.0813,222.7656 1730.3469,222.5313 Q1730.6125,222.2969 1731.2219,222.2969 L1731.6438,222.2969 L1731.2375,221.2656 Z M1730.5188,219.5625 L1729.1594,216.1875 L1727.7844,219.5625 L1730.5188,219.5625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="86" x="1744.95" y="224.4102">AbstractService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1706.5" x2="1841.5" y1="235.5" y2="235.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1713.5" y="243.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="111" x="1725.5" y="250.9189">static final Logger LOG</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1706.5" x2="1841.5" y1="257.3359" y2="257.3359"/><!--MD5=[bddf4e05ef035d2db1e39a3500eeada9]
class DefaultAmazonS3Service--><rect codeLine="65" fill="#FEFECE" filter="url(#f1nubjlc36kpuo)" height="103.3438" id="DefaultAmazonS3Service" style="stroke:#A80036;stroke-width:1.5;" width="369" x="3305.5" y="628"/><ellipse cx="3416.75" cy="644" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M3419.5156,639.875 Q3419.6719,639.6563 3419.8594,639.5469 Q3420.0469,639.4375 3420.2656,639.4375 Q3420.6406,639.4375 3420.875,639.7031 Q3421.1094,639.9531 3421.1094,640.5625 L3421.1094,642.0156 Q3421.1094,642.625 3420.875,642.8906 Q3420.6406,643.1563 3420.2656,643.1563 Q3419.9219,643.1563 3419.7188,642.9531 Q3419.5156,642.7656 3419.4063,642.25 Q3419.3594,641.8906 3419.1719,641.7031 Q3418.8438,641.3281 3418.2344,641.1094 Q3417.625,640.8906 3417,640.8906 Q3416.2344,640.8906 3415.5938,641.2188 Q3414.9688,641.5469 3414.4688,642.2969 Q3413.9844,643.0469 3413.9844,644.0781 L3413.9844,645.1719 Q3413.9844,646.4063 3414.875,647.2344 Q3415.7656,648.0469 3417.3594,648.0469 Q3418.2969,648.0469 3418.9531,647.7969 Q3419.3438,647.6406 3419.7656,647.2031 Q3420.0313,646.9375 3420.1719,646.8594 Q3420.3281,646.7813 3420.5313,646.7813 Q3420.8594,646.7813 3421.1094,647.0469 Q3421.375,647.2969 3421.375,647.6406 Q3421.375,647.9844 3421.0313,648.3906 Q3420.5313,648.9688 3419.7344,649.2969 Q3418.6563,649.75 3417.3594,649.75 Q3415.8438,649.75 3414.6406,649.125 Q3413.6563,648.625 3412.9688,647.5625 Q3412.2813,646.4844 3412.2813,645.2031 L3412.2813,644.0469 Q3412.2813,642.7188 3412.8906,641.5781 Q3413.5156,640.4219 3414.6094,639.8125 Q3415.7031,639.1875 3416.9375,639.1875 Q3417.6719,639.1875 3418.3125,639.3594 Q3418.9688,639.5156 3419.5156,639.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="138" x="3437.25" y="648.9102">DefaultAmazonS3Service</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3306.5" x2="3673.5" y1="660" y2="660"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="3313.5" y="668"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="202" x="3325.5" y="675.4189">final AmazonS3Facade amazonS3Facade</text><line style="stroke:#A80036;stroke-width:1.5;" x1="3306.5" x2="3673.5" y1="681.8359" y2="681.8359"/><ellipse cx="3316.5" cy="692.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="311" x="3325.5" y="697.2549">DefaultAmazonS3Service(AmazonS3Facade amazonS3Facade)</text><polygon fill="#4177AF" points="3316.5,702.6719,3312.5,708.6719,3320.5,708.6719" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="343" x="3325.5" y="711.0908">String uploadImageToS3Bucket (MultipartFile image, String bucketName)</text><polygon fill="#4177AF" points="3316.5,716.5078,3312.5,722.5078,3320.5,722.5078" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="297" x="3325.5" y="724.9268">void deleteImageFromS3Bucket(String bucketName, String url)</text><!--MD5=[7ae4955753143fb0df2ba2d88a737f22]
class DefaultUserService--><rect codeLine="72" fill="#FEFECE" filter="url(#f1nubjlc36kpuo)" height="472.9141" id="DefaultUserService" style="stroke:#A80036;stroke-width:1.5;" width="897" x="2373.5" y="443"/><ellipse cx="2764.75" cy="459" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2767.5156,454.875 Q2767.6719,454.6563 2767.8594,454.5469 Q2768.0469,454.4375 2768.2656,454.4375 Q2768.6406,454.4375 2768.875,454.7031 Q2769.1094,454.9531 2769.1094,455.5625 L2769.1094,457.0156 Q2769.1094,457.625 2768.875,457.8906 Q2768.6406,458.1563 2768.2656,458.1563 Q2767.9219,458.1563 2767.7188,457.9531 Q2767.5156,457.7656 2767.4063,457.25 Q2767.3594,456.8906 2767.1719,456.7031 Q2766.8438,456.3281 2766.2344,456.1094 Q2765.625,455.8906 2765,455.8906 Q2764.2344,455.8906 2763.5938,456.2188 Q2762.9688,456.5469 2762.4688,457.2969 Q2761.9844,458.0469 2761.9844,459.0781 L2761.9844,460.1719 Q2761.9844,461.4063 2762.875,462.2344 Q2763.7656,463.0469 2765.3594,463.0469 Q2766.2969,463.0469 2766.9531,462.7969 Q2767.3438,462.6406 2767.7656,462.2031 Q2768.0313,461.9375 2768.1719,461.8594 Q2768.3281,461.7813 2768.5313,461.7813 Q2768.8594,461.7813 2769.1094,462.0469 Q2769.375,462.2969 2769.375,462.6406 Q2769.375,462.9844 2769.0313,463.3906 Q2768.5313,463.9688 2767.7344,464.2969 Q2766.6563,464.75 2765.3594,464.75 Q2763.8438,464.75 2762.6406,464.125 Q2761.6563,463.625 2760.9688,462.5625 Q2760.2813,461.4844 2760.2813,460.2031 L2760.2813,459.0469 Q2760.2813,457.7188 2760.8906,456.5781 Q2761.5156,455.4219 2762.6094,454.8125 Q2763.7031,454.1875 2764.9375,454.1875 Q2765.6719,454.1875 2766.3125,454.3594 Q2766.9688,454.5156 2767.5156,454.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106" x="2785.25" y="463.9102">DefaultUserService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2374.5" x2="3269.5" y1="475" y2="475"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2381.5" y="483"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="2393.5" y="490.4189">final UserDao userDao</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2381.5" y="496.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="2393.5" y="504.2549">final OwnsDao ownsDao</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2381.5" y="510.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="2393.5" y="518.0908">final FollowsDao followsDao</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2381.5" y="524.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="184" x="2393.5" y="531.9268">final ValidatorFactory validatorFactory</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2381.5" y="538.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="282" x="2393.5" y="545.7627">final MoneyTreePasswordEncryption passwordEncryption</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2381.5" y="552.1797"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="132" x="2393.5" y="559.5986">static final Logger LOGGER</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2381.5" y="566.0156"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="204" x="2393.5" y="573.4346">final AmazonS3Service amazonS3Service</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2381.5" y="579.8516"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="113" x="2393.5" y="587.2705">final String bucketName</text><ellipse cx="2384.5" cy="596.6875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="871" x="2393.5" y="601.1064">DefaultUserService(UserDao userDao, FollowsDao followsDao, OwnsDao ownsDao, ValidatorFactory validatorFactory, AmazonS3Service amazonS3Service, String bucketName) {</text><polygon fill="#4177AF" points="2384.5,624.3594,2380.5,630.3594,2388.5,630.3594" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="119" x="2393.5" y="632.7783">List&lt;User&gt; getAllUsers()</text><polygon fill="#4177AF" points="2384.5,638.1953,2380.5,644.1953,2388.5,644.1953" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="318" x="2393.5" y="646.6143">User getUserByEmailAndUsername(String email, String username)</text><polygon fill="#4177AF" points="2384.5,652.0313,2380.5,658.0313,2388.5,658.0313" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="136" x="2393.5" y="660.4502">User createUser(User user)</text><polygon fill="#4177AF" points="2384.5,665.8672,2380.5,671.8672,2388.5,671.8672" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="238" x="2393.5" y="674.2861">User updateUser(User userToUpdate, User user)</text><polygon fill="#4177AF" points="2384.5,679.7031,2380.5,685.7031,2388.5,685.7031" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="229" x="2393.5" y="688.1221">User registerAlpacaApiKey(Long id, String key)</text><polygon fill="#4177AF" points="2384.5,693.5391,2380.5,699.5391,2388.5,699.5391" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="158" x="2393.5" y="701.958">UserValidator getUserValidator()</text><polygon fill="#4177AF" points="2384.5,707.375,2380.5,713.375,2388.5,713.375" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="317" x="2393.5" y="715.7939">User login(User credentials) throws CredentialNotFoundException</text><polygon fill="#4177AF" points="2384.5,721.2109,2380.5,727.2109,2388.5,727.2109" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="374" x="2393.5" y="729.6299">User editUserProfilePicture(User user, MultipartFile imageFile, String selection)</text><polygon fill="#4177AF" points="2384.5,735.0469,2380.5,741.0469,2388.5,741.0469" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="252" x="2393.5" y="743.4658">Long followUser(Long userId, Long userToFollowId)</text><polygon fill="#4177AF" points="2384.5,748.8828,2380.5,754.8828,2388.5,754.8828" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="275" x="2393.5" y="757.3018">Long unfollowUser(Long userId, Long userToUnfollowId)</text><polygon fill="#4177AF" points="2384.5,762.7188,2380.5,768.7188,2388.5,768.7188" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="231" x="2393.5" y="771.1377">List&lt;SanitizedUser&gt; getFollowings(Long userId)</text><polygon fill="#4177AF" points="2384.5,776.5547,2380.5,782.5547,2388.5,782.5547" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="227" x="2393.5" y="784.9736">List&lt;SanitizedUser&gt; getFollowers(Long userId)</text><polygon fill="#4177AF" points="2384.5,790.3906,2380.5,796.3906,2388.5,796.3906" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="213" x="2393.5" y="798.8096">List&lt;Map&lt;String, String&gt;&gt; getSearchUsers()</text><polygon fill="#4177AF" points="2384.5,804.2266,2380.5,810.2266,2388.5,810.2266" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="190" x="2393.5" y="812.6455">List&lt;User&gt; getTopUsers(String symbol)</text><polygon fill="#4177AF" points="2384.5,818.0625,2380.5,824.0625,2388.5,824.0625" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="329" x="2393.5" y="826.4814">List&lt;User&gt; getFollowersWhoOwnsTheStock(Long id, String symbol)</text><polygon fill="#4177AF" points="2384.5,831.8984,2380.5,837.8984,2388.5,837.8984" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="184" x="2393.5" y="840.3174">List&lt;SanitizedUser&gt; getLeaderboard()</text><polygon fill="#4177AF" points="2384.5,845.7344,2380.5,851.7344,2388.5,851.7344" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="175" x="2393.5" y="854.1533">void deleteUserByEmail(String email)</text><polygon fill="#4177AF" points="2384.5,859.5703,2380.5,865.5703,2388.5,865.5703" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="198" x="2393.5" y="867.9893">Float getUserPercentile(String username)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2396.5" y="881.8252"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2396.5" y="895.6611"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="2396.5" y="909.4971"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2374.5" x2="2795.5" y1="614.4414" y2="614.4414"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="2795.5" y="618.4424">@Override</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2848.5" x2="3269.5" y1="614.4414" y2="614.4414"/><!--MD5=[0eb29769069a29111a067fbdb60ef607]
class DefaultStockMarketDataService--><rect codeLine="106" fill="#FEFECE" filter="url(#f1nubjlc36kpuo)" height="158.6875" id="DefaultStockMarketDataService" style="stroke:#A80036;stroke-width:1.5;" width="293" x="502.5" y="600"/><ellipse cx="559.25" cy="616" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M562.0156,611.875 Q562.1719,611.6563 562.3594,611.5469 Q562.5469,611.4375 562.7656,611.4375 Q563.1406,611.4375 563.375,611.7031 Q563.6094,611.9531 563.6094,612.5625 L563.6094,614.0156 Q563.6094,614.625 563.375,614.8906 Q563.1406,615.1563 562.7656,615.1563 Q562.4219,615.1563 562.2188,614.9531 Q562.0156,614.7656 561.9063,614.25 Q561.8594,613.8906 561.6719,613.7031 Q561.3438,613.3281 560.7344,613.1094 Q560.125,612.8906 559.5,612.8906 Q558.7344,612.8906 558.0938,613.2188 Q557.4688,613.5469 556.9688,614.2969 Q556.4844,615.0469 556.4844,616.0781 L556.4844,617.1719 Q556.4844,618.4063 557.375,619.2344 Q558.2656,620.0469 559.8594,620.0469 Q560.7969,620.0469 561.4531,619.7969 Q561.8438,619.6406 562.2656,619.2031 Q562.5313,618.9375 562.6719,618.8594 Q562.8281,618.7813 563.0313,618.7813 Q563.3594,618.7813 563.6094,619.0469 Q563.875,619.2969 563.875,619.6406 Q563.875,619.9844 563.5313,620.3906 Q563.0313,620.9688 562.2344,621.2969 Q561.1563,621.75 559.8594,621.75 Q558.3438,621.75 557.1406,621.125 Q556.1563,620.625 555.4688,619.5625 Q554.7813,618.4844 554.7813,617.2031 L554.7813,616.0469 Q554.7813,614.7188 555.3906,613.5781 Q556.0156,612.4219 557.1094,611.8125 Q558.2031,611.1875 559.4375,611.1875 Q560.1719,611.1875 560.8125,611.3594 Q561.4688,611.5156 562.0156,611.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="171" x="579.75" y="620.9102">DefaultStockMarketDataService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="503.5" x2="794.5" y1="632" y2="632"/><line style="stroke:#A80036;stroke-width:1.5;" x1="503.5" x2="794.5" y1="640" y2="640"/><polygon fill="#4177AF" points="513.5,647,509.5,653,517.5,653" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="267" x="522.5" y="655.4189">BatchStocks getBatchStocksBySymbol(String symbols)</text><polygon fill="#4177AF" points="513.5,660.8359,509.5,666.8359,517.5,666.8359" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="522.5" y="669.2549">Book getBook(String symbol)</text><polygon fill="#4177AF" points="513.5,674.6719,509.5,680.6719,517.5,680.6719" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="149" x="522.5" y="683.0908">Quote getQuote(String symbol)</text><polygon fill="#4177AF" points="513.5,688.5078,509.5,694.5078,517.5,694.5078" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="199" x="522.5" y="696.9268">Company getCompanyInfo(String symbol)</text><polygon fill="#4177AF" points="513.5,702.3438,509.5,708.3438,517.5,708.3438" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="250" x="522.5" y="710.7627">List&lt;News&gt; getLastNNews(String symbol, int lastN)</text><polygon fill="#4177AF" points="513.5,716.1797,509.5,722.1797,517.5,722.1797" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="179" x="522.5" y="724.5986">KeyStats getKeyStats(String symbol)</text><polygon fill="#4177AF" points="513.5,730.0156,509.5,736.0156,517.5,736.0156" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="237" x="522.5" y="738.4346">List&lt;Chart&gt; getChart(String symbol, String range)</text><polygon fill="#4177AF" points="513.5,743.8516,509.5,749.8516,517.5,749.8516" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="522.5" y="752.2705">Logo getLogo(String symbol)</text><!--MD5=[ecd4a310b7c0418e74aaa0e6d44394ca]
class DefaultStockService--><rect codeLine="117" fill="#FEFECE" filter="url(#f1nubjlc36kpuo)" height="168.5234" id="DefaultStockService" style="stroke:#A80036;stroke-width:1.5;" width="356" x="1982" y="595"/><ellipse cx="2101.25" cy="611" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2104.0156,606.875 Q2104.1719,606.6563 2104.3594,606.5469 Q2104.5469,606.4375 2104.7656,606.4375 Q2105.1406,606.4375 2105.375,606.7031 Q2105.6094,606.9531 2105.6094,607.5625 L2105.6094,609.0156 Q2105.6094,609.625 2105.375,609.8906 Q2105.1406,610.1563 2104.7656,610.1563 Q2104.4219,610.1563 2104.2188,609.9531 Q2104.0156,609.7656 2103.9063,609.25 Q2103.8594,608.8906 2103.6719,608.7031 Q2103.3438,608.3281 2102.7344,608.1094 Q2102.125,607.8906 2101.5,607.8906 Q2100.7344,607.8906 2100.0938,608.2188 Q2099.4688,608.5469 2098.9688,609.2969 Q2098.4844,610.0469 2098.4844,611.0781 L2098.4844,612.1719 Q2098.4844,613.4063 2099.375,614.2344 Q2100.2656,615.0469 2101.8594,615.0469 Q2102.7969,615.0469 2103.4531,614.7969 Q2103.8438,614.6406 2104.2656,614.2031 Q2104.5313,613.9375 2104.6719,613.8594 Q2104.8281,613.7813 2105.0313,613.7813 Q2105.3594,613.7813 2105.6094,614.0469 Q2105.875,614.2969 2105.875,614.6406 Q2105.875,614.9844 2105.5313,615.3906 Q2105.0313,615.9688 2104.2344,616.2969 Q2103.1563,616.75 2101.8594,616.75 Q2100.3438,616.75 2099.1406,616.125 Q2098.1563,615.625 2097.4688,614.5625 Q2096.7813,613.4844 2096.7813,612.2031 L2096.7813,611.0469 Q2096.7813,609.7188 2097.3906,608.5781 Q2098.0156,607.4219 2099.1094,606.8125 Q2100.2031,606.1875 2101.4375,606.1875 Q2102.1719,606.1875 2102.8125,606.3594 Q2103.4688,606.5156 2104.0156,606.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="109" x="2121.75" y="615.9102">DefaultStockService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1983" x2="2337" y1="627" y2="627"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1990" y="635"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="2002" y="642.4189">final StockDao stockDao</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1990" y="648.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="2002" y="656.2549">final OwnsDao ownsDao</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1990" y="662.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="132" x="2002" y="670.0908">static final Logger LOGGER</text><ellipse cx="1993" cy="679.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="305" x="2002" y="683.9268">DefaultStockService(StockDao stockDao, OwnsDao ownsDao)</text><polygon fill="#4177AF" points="1993,707.1797,1989,713.1797,1997,713.1797" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="2002" y="715.5986">List&lt;Stock&gt; getAllStocks()</text><polygon fill="#4177AF" points="1993,721.0156,1989,727.0156,1997,727.0156" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="239" x="2002" y="729.4346">List&lt;SanitizedStock&gt; getUserStocks(Long userId)</text><polygon fill="#4177AF" points="1993,734.8516,1989,740.8516,1997,740.8516" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="330" x="2002" y="743.2705">HashMap&lt;String, Long&gt; getPeopleWhoOwnAlsoOwn(String symbol)</text><polygon fill="#4177AF" points="1993,748.6875,1989,754.6875,1997,754.6875" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="193" x="2002" y="757.1064">Stock getStockBySymbol(String symbol)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1983" x2="2133.5" y1="697.2617" y2="697.2617"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="2133.5" y="701.2627">@Override</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2186.5" x2="2337" y1="697.2617" y2="697.2617"/><!--MD5=[03ced7862c630d3f86e5e71f721f339b]
class DefaultTransactionService--><rect codeLine="129" fill="#FEFECE" filter="url(#f1nubjlc36kpuo)" height="237.7031" id="DefaultTransactionService" style="stroke:#A80036;stroke-width:1.5;" width="1116" x="831" y="560.5"/><ellipse cx="1312.75" cy="576.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1315.5156,572.375 Q1315.6719,572.1563 1315.8594,572.0469 Q1316.0469,571.9375 1316.2656,571.9375 Q1316.6406,571.9375 1316.875,572.2031 Q1317.1094,572.4531 1317.1094,573.0625 L1317.1094,574.5156 Q1317.1094,575.125 1316.875,575.3906 Q1316.6406,575.6563 1316.2656,575.6563 Q1315.9219,575.6563 1315.7188,575.4531 Q1315.5156,575.2656 1315.4063,574.75 Q1315.3594,574.3906 1315.1719,574.2031 Q1314.8438,573.8281 1314.2344,573.6094 Q1313.625,573.3906 1313,573.3906 Q1312.2344,573.3906 1311.5938,573.7188 Q1310.9688,574.0469 1310.4688,574.7969 Q1309.9844,575.5469 1309.9844,576.5781 L1309.9844,577.6719 Q1309.9844,578.9063 1310.875,579.7344 Q1311.7656,580.5469 1313.3594,580.5469 Q1314.2969,580.5469 1314.9531,580.2969 Q1315.3438,580.1406 1315.7656,579.7031 Q1316.0313,579.4375 1316.1719,579.3594 Q1316.3281,579.2813 1316.5313,579.2813 Q1316.8594,579.2813 1317.1094,579.5469 Q1317.375,579.7969 1317.375,580.1406 Q1317.375,580.4844 1317.0313,580.8906 Q1316.5313,581.4688 1315.7344,581.7969 Q1314.6563,582.25 1313.3594,582.25 Q1311.8438,582.25 1310.6406,581.625 Q1309.6563,581.125 1308.9688,580.0625 Q1308.2813,578.9844 1308.2813,577.7031 L1308.2813,576.5469 Q1308.2813,575.2188 1308.8906,574.0781 Q1309.5156,572.9219 1310.6094,572.3125 Q1311.7031,571.6875 1312.9375,571.6875 Q1313.6719,571.6875 1314.3125,571.8594 Q1314.9688,572.0156 1315.5156,572.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="144" x="1333.25" y="581.4102">DefaultTransactionService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="832" x2="1946" y1="592.5" y2="592.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="839" y="600.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="132" x="851" y="607.9189">static final Logger LOGGER</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="839" y="614.3359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="175" x="851" y="621.7549">final TransactionDao transactionDao</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="839" y="628.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="851" y="635.5908">final UserDao userDao</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="839" y="642.0078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="851" y="649.4268">final StockDao stockDao</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="839" y="655.8438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="851" y="663.2627">final MadeDao madeDao</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="839" y="669.6797"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="133" x="851" y="677.0986">final ToFulfillDao toFulfillDao</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="839" y="683.5156"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="137" x="851" y="690.9346">final AlpacaSession session</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="839" y="697.3516"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="261" x="851" y="704.7705">final StockMarketDataService stockMarketDataService</text><ellipse cx="842" cy="714.1875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="1090" x="851" y="718.6064">public DefaultTransactionService(TransactionDao transactionDao, UserDao userDao, StockDao stockDao, MadeDao madeDao, ToFulfillDao toFulfillDao, AlpacaSession session, StockMarketDataService stockMarketDataService)</text><polygon fill="#4177AF" points="842,741.8594,838,747.8594,846,747.8594" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="187" x="851" y="750.2783">List&lt;Transaction&gt; getAllTransactions()</text><polygon fill="#4177AF" points="842,755.6953,838,761.6953,846,761.6953" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="455" x="851" y="764.1143">List&lt;Transaction&gt; getTransactionsByOrderType(MoneyTreeOrderType moneyTreeOrderType)</text><polygon fill="#4177AF" points="842,769.5313,838,775.5313,846,775.5313" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="260" x="851" y="777.9502">List&lt;Transaction&gt; execute(String userId, Order order)</text><polygon fill="#4177AF" points="842,783.3672,838,789.3672,846,789.3672" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="255" x="851" y="791.7861">List&lt;Transaction&gt; getUserTransactions(Long userId)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="832" x2="1362.5" y1="731.9414" y2="731.9414"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="1362.5" y="735.9424">@Override</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1415.5" x2="1946" y1="731.9414" y2="731.9414"/><!--MD5=[4c7811f912a5aea7bc4381f9585cf3a6]
class DefaultYahooFinanceService--><rect codeLine="145" fill="#FEFECE" filter="url(#f1nubjlc36kpuo)" height="85.5078" id="DefaultYahooFinanceService" style="stroke:#A80036;stroke-width:1.5;" width="411" x="56.5" y="636.5"/><ellipse cx="178.75" cy="652.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M181.5156,648.375 Q181.6719,648.1563 181.8594,648.0469 Q182.0469,647.9375 182.2656,647.9375 Q182.6406,647.9375 182.875,648.2031 Q183.1094,648.4531 183.1094,649.0625 L183.1094,650.5156 Q183.1094,651.125 182.875,651.3906 Q182.6406,651.6563 182.2656,651.6563 Q181.9219,651.6563 181.7188,651.4531 Q181.5156,651.2656 181.4063,650.75 Q181.3594,650.3906 181.1719,650.2031 Q180.8438,649.8281 180.2344,649.6094 Q179.625,649.3906 179,649.3906 Q178.2344,649.3906 177.5938,649.7188 Q176.9688,650.0469 176.4688,650.7969 Q175.9844,651.5469 175.9844,652.5781 L175.9844,653.6719 Q175.9844,654.9063 176.875,655.7344 Q177.7656,656.5469 179.3594,656.5469 Q180.2969,656.5469 180.9531,656.2969 Q181.3438,656.1406 181.7656,655.7031 Q182.0313,655.4375 182.1719,655.3594 Q182.3281,655.2813 182.5313,655.2813 Q182.8594,655.2813 183.1094,655.5469 Q183.375,655.7969 183.375,656.1406 Q183.375,656.4844 183.0313,656.8906 Q182.5313,657.4688 181.7344,657.7969 Q180.6563,658.25 179.3594,658.25 Q177.8438,658.25 176.6406,657.625 Q175.6563,657.125 174.9688,656.0625 Q174.2813,654.9844 174.2813,653.7031 L174.2813,652.5469 Q174.2813,651.2188 174.8906,650.0781 Q175.5156,648.9219 176.6094,648.3125 Q177.7031,647.6875 178.9375,647.6875 Q179.6719,647.6875 180.3125,647.8594 Q180.9688,648.0156 181.5156,648.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="158" x="199.25" y="657.4102">DefaultYahooFinanceService</text><line style="stroke:#A80036;stroke-width:1.5;" x1="57.5" x2="466.5" y1="668.5" y2="668.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="64.5" y="676.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="278" x="76.5" y="683.9189">@Autowired YahooFinanceFacade yahooFinanceFacade</text><polygon fill="#4177AF" points="67.5,707.1719,63.5,713.1719,71.5,713.1719" style="stroke:#1963A0;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="385" x="76.5" y="715.5908">Mono&lt;String&gt; getHistoricalGraphData (String ticker, String range, String interval)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="57.5" x2="235.5" y1="697.2539" y2="697.2539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="235.5" y="701.2549">@Override</text><line style="stroke:#A80036;stroke-width:1.0;" x1="288.5" x2="466.5" y1="697.2539" y2="697.2539"/><!--MD5=[9e123cfd2fab328fa2e28b2004e92fc9]
reverse link AbstractService to DefaultAmazonS3Service--><path d="M1863.17,239.47 C2149.1,253.48 3038.86,307.21 3288,443 C3366.51,485.79 3428.14,572.11 3461.77,627.51 " fill="none" id="AbstractService-backto-DefaultAmazonS3Service" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1862.5,246.45,1842.86,238.5,1863.17,232.47,1862.5,246.45" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[256ec4bb08d6b6a12bfb3ecaedac26a5]
reverse link AmazonS3Service to DefaultAmazonS3Service--><path d="M5985.3,287.39 C5947.67,327.29 5890.16,380 5828,407 C5440.9,575.14 4156.3,648.7 3674.59,670.85 " fill="none" id="AmazonS3Service-backto-DefaultAmazonS3Service" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="5980.26,282.52,5998.96,272.54,5990.57,292,5980.26,282.52" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[98d4185ebbb9fa09f1d9df2781232b07]
reverse link AbstractService to DefaultUserService--><path d="M1862.1,263.09 C1977.25,300.01 2184.47,369.42 2356,443 C2361.73,445.46 2367.48,447.95 2373.26,450.48 " fill="none" id="AbstractService-backto-DefaultUserService" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1859.65,269.65,1842.72,256.9,1863.9,256.31,1859.65,269.65" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ac1963c4d57711ee3b04b1aaf59b0a4f]
reverse link UserService to DefaultUserService--><path d="M5425.98,392.77 C5415.17,398.21 5404.15,403.02 5393,407 C5172.7,485.66 3515.08,386.82 3288,443 C3282.28,444.41 3276.55,445.91 3270.82,447.48 " fill="none" id="UserService-backto-DefaultUserService" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="5423.03,386.41,5443.95,383.07,5429.68,398.73,5423.03,386.41" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6a696399e0802b305094ea7d13780963]
reverse link AbstractService to DefaultStockMarketDataService--><path d="M1685.36,246.29 C1476.06,273.06 957.99,347.37 814,443 C756.2,481.39 712.52,547.52 684.67,599.95 " fill="none" id="AbstractService-backto-DefaultStockMarketDataService" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1684.49,239.34,1705.21,243.77,1686.25,253.23,1684.49,239.34" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7da1a3b506bb289895dcb67514f3e500]
reverse link StockMarketDataService to DefaultStockMarketDataService--><path d="M4255.38,329.82 C4228.72,360.29 4195.15,390.45 4157,407 C3986.61,480.91 978.3,356.38 814,443 C751.18,476.12 707.23,545.15 680.57,599.95 " fill="none" id="StockMarketDataService-backto-DefaultStockMarketDataService" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="4250.08,325.25,4268.29,314.41,4260.81,334.24,4250.08,325.25" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[bf35b0dac57604676211ade54d88ec93]
reverse link AbstractService to DefaultStockService--><path d="M1816.63,280.43 C1855.8,322.05 1915.17,385.93 1965,443 C2008.29,492.58 2055.4,549.38 2092.46,594.78 " fill="none" id="AbstractService-backto-DefaultStockService" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1811.3,284.98,1802.66,265.63,1821.48,275.38,1811.3,284.98" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f0ca4a8fd1b67358486b196103f75c90]
reverse link StockService to DefaultStockService--><path d="M5143.87,301.05 C5108.09,339.81 5057.28,385.42 5001,407 C4863.79,459.62 2488.64,379.72 2356,443 C2289.63,474.67 2237.78,540.81 2204.13,594.96 " fill="none" id="StockService-backto-DefaultStockService" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="5138.75,296.28,5157.3,286.05,5149.18,305.62,5138.75,296.28" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[609735f92ab2dc04aaf17c3571399422]
reverse link AbstractService to DefaultTransactionService--><path d="M1734.56,280.88 C1677.93,346.05 1571.61,468.38 1491.8,560.22 " fill="none" id="AbstractService-backto-DefaultTransactionService" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1729.44,276.1,1747.84,265.6,1740,285.29,1729.44,276.1" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[9ccdda8aecec798b175ccbf35616d9d4]
reverse link TransactionService to DefaultTransactionService--><path d="M4672.09,298.99 C4623.28,338.33 4554.85,385.36 4485,407 C4217.52,489.88 2239.38,387.04 1965,443 C1847.5,466.97 1723.6,514.42 1620.95,560.5 " fill="none" id="TransactionService-backto-DefaultTransactionService" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="4667.66,293.57,4687.55,286.26,4676.56,304.37,4667.66,293.57" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[79bd30a24b7aae87306acbcde4aea464]
reverse link AbstractService to DefaultYahooFinanceService--><path d="M1685.21,242.36 C1429.4,263.28 695.63,331.7 485,443 C398.13,488.91 326.07,581.65 289,636.05 " fill="none" id="AbstractService-backto-DefaultYahooFinanceService" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1684.78,235.37,1705.28,240.74,1685.91,249.33,1684.78,235.37" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[111cf2debdab462faa38e64f2d068592]
reverse link YahooFinanceService to DefaultYahooFinanceService--><path d="M3890.7,279.37 C3845.05,321.26 3769.64,381.64 3691,407 C3521.47,461.67 648.22,371.68 485,443 C393.67,482.9 322.03,580.21 286.51,636.46 " fill="none" id="YahooFinanceService-backto-DefaultYahooFinanceService" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="3885.91,274.27,3905.28,265.68,3895.49,284.48,3885.91,274.27" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0b30ec4c565532a532954c1dca68784c]
@startuml

package service {

    package api {
        interface AmazonS3Service {
            ~String uploadImageToS3Bucket (MultipartFile image, String bucketName)
            ~void deleteImageFromS3Bucket (String bucketName, String url)

                }

        interface UserService {
            ~List<User> getAllUsers()
            ~User getUserByEmailAndUsername(String email, String username)
            ~User createUser(User user)
            ~User updateUser(User userToUpdate, User user)
            ~User registerAlpacaApiKey(Long id, String key)
            ~UserValidator getUserValidator()
            ~User login(User credentials) throws CredentialNotFoundException
            ~User editUserProfilePicture(User user, MultipartFile imageFile, String selection)
            ~Long followUser(Long userId, Long userToFollowId)
            ~Long unfollowUser(Long userId, Long userToUnfollowId)
            ~List<SanitizedUser> getFollowings(Long userId)
            ~List<SanitizedUser> getFollowers(Long userId)
            ~List<Map<String, String>> getSearchUsers()
            ~List<User> getTopUsers(String symbol)
            ~List<User> getFollowersWhoOwnsTheStock(Long id, String symbol)
            ~List<SanitizedUser> getLeaderboard()
            ~void deleteUserByEmail(String email)
            ~Float getUserPercentile(String username)
        }

        interface StockService {
            ~List<Stock> getAllStocks()
            ~List<SanitizedStock> getUserStocks(Long userId)
            ~HashMap<String, Long> getPeopleWhoOwnAlsoOwn(String symbol)
            ~Stock getStockBySymbol(String symbol)
        }

        interface TransactionService {
            ~List<Transaction> getAllTransactions()
            ~List<Transaction> getTransactionsByOrderType(MoneyTreeOrderType moneyTreeOrderType)
            ~List<Transaction> execute(String userId, Order order)
            ~List<Transaction> getUserTransactions(Long userId)
        }
        interface StockMarketDataService {
            ~BatchStocks getBatchStocksBySymbol(String symbols)
            ~Book getBook(String symbol)
            ~Quote getQuote(String symbol)
            ~Company getCompanyInfo(String symbol)
            ~List<News> getLastNNews(String symbol, int lastN)
            ~KeyStats getKeyStats(String symbol)
            ~List<Chart> getChart(String symbol, String range)
            ~Logo getLogo(String symbol)
        }
        interface YahooFinanceService{
            ~Mono<String> getHistoricalGraphData(String ticker, String range, String interval)
        }
    }

    package imp {
        abstract class AbstractService {
            -static final Logger LOG
        }

        class DefaultAmazonS3Service extends AbstractService implements AmazonS3Service {
            -final AmazonS3Facade amazonS3Facade
            +DefaultAmazonS3Service(AmazonS3Facade amazonS3Facade)
            ~String uploadImageToS3Bucket (MultipartFile image, String bucketName)
            ~void deleteImageFromS3Bucket(String bucketName, String url)
        }

        class DefaultUserService extends AbstractService implements UserService {
            -final UserDao userDao
            -final OwnsDao ownsDao
            -final FollowsDao followsDao
            -final ValidatorFactory validatorFactory
            -final MoneyTreePasswordEncryption passwordEncryption
            -static final Logger LOGGER
            -final AmazonS3Service amazonS3Service
            -final String bucketName
            +DefaultUserService(UserDao userDao, FollowsDao followsDao, OwnsDao ownsDao, ValidatorFactory validatorFactory, AmazonS3Service amazonS3Service, String bucketName) {
            - - @Override - -
              ~List<User> getAllUsers()
              ~User getUserByEmailAndUsername(String email, String username)
              ~User createUser(User user)
              ~User updateUser(User userToUpdate, User user)
              ~User registerAlpacaApiKey(Long id, String key)
              ~UserValidator getUserValidator()
              ~User login(User credentials) throws CredentialNotFoundException
              ~User editUserProfilePicture(User user, MultipartFile imageFile, String selection)
              ~Long followUser(Long userId, Long userToFollowId)
              ~Long unfollowUser(Long userId, Long userToUnfollowId)
              ~List<SanitizedUser> getFollowings(Long userId)
              ~List<SanitizedUser> getFollowers(Long userId)
              ~List<Map<String, String>> getSearchUsers()
              ~List<User> getTopUsers(String symbol)
              ~List<User> getFollowersWhoOwnsTheStock(Long id, String symbol)
              ~List<SanitizedUser> getLeaderboard()
              ~void deleteUserByEmail(String email)
              ~Float getUserPercentile(String username)



        }

        class DefaultStockMarketDataService extends AbstractService implements StockMarketDataService {
              ~BatchStocks getBatchStocksBySymbol(String symbols)
              ~Book getBook(String symbol)
              ~Quote getQuote(String symbol)
              ~Company getCompanyInfo(String symbol)
              ~List<News> getLastNNews(String symbol, int lastN)
              ~KeyStats getKeyStats(String symbol)
              ~List<Chart> getChart(String symbol, String range)
              ~Logo getLogo(String symbol)
        }

        class DefaultStockService extends AbstractService implements StockService {
            -final StockDao stockDao
            -final OwnsDao ownsDao
            -static final Logger LOGGER
            +DefaultStockService(StockDao stockDao, OwnsDao ownsDao)
            - - @Override - -
            ~List<Stock> getAllStocks()
            ~List<SanitizedStock> getUserStocks(Long userId)
            ~HashMap<String, Long> getPeopleWhoOwnAlsoOwn(String symbol)
            ~Stock getStockBySymbol(String symbol)
        }

        class DefaultTransactionService extends AbstractService implements TransactionService {
            -static final Logger LOGGER
            -final TransactionDao transactionDao
            -final UserDao userDao
            -final StockDao stockDao
            -final MadeDao madeDao
            -final ToFulfillDao toFulfillDao
            -final AlpacaSession session
            -final StockMarketDataService stockMarketDataService
            +public DefaultTransactionService(TransactionDao transactionDao, UserDao userDao, StockDao stockDao, MadeDao madeDao, ToFulfillDao toFulfillDao, AlpacaSession session, StockMarketDataService stockMarketDataService)
            - - @Override - -
            ~List<Transaction> getAllTransactions()
            ~List<Transaction> getTransactionsByOrderType(MoneyTreeOrderType moneyTreeOrderType)
            ~List<Transaction> execute(String userId, Order order)
            ~List<Transaction> getUserTransactions(Long userId)
        }
        class DefaultYahooFinanceService extends AbstractService implements YahooFinanceService {
                    -@Autowired YahooFinanceFacade yahooFinanceFacade
                    - - @Override - -
                    ~Mono<String> getHistoricalGraphData (String ticker, String range, String interval)
                }
    }
}

@enduml

PlantUML version 1.2021.00(Sun Jan 10 02:25:05 PST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>